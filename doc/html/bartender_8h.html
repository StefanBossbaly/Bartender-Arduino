<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>Bartender: bartender.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Bartender
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">bartender.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Defines the functions that the bartender can perform.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;inttypes.h&quot;</code><br/>
<code>#include &quot;stepper.h&quot;</code><br/>
<code>#include &quot;toggle_driver.h&quot;</code><br/>
</div>
<p><a href="bartender_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbartender__t.html">bartender_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aa2af45dbd7c7fd8a9f25af41f8b97a05"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bartender_8h.html#aa2af45dbd7c7fd8a9f25af41f8b97a05">STATUS_NONE</a>&#160;&#160;&#160;0x00</td></tr>
<tr class="separator:aa2af45dbd7c7fd8a9f25af41f8b97a05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7aa8d4d16c100731379327b7f6ee745a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bartender_8h.html#a7aa8d4d16c100731379327b7f6ee745a">STATUS_MOVING</a>&#160;&#160;&#160;0x01</td></tr>
<tr class="separator:a7aa8d4d16c100731379327b7f6ee745a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16a0d898e7859c2c3b24b55b3f4a048e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bartender_8h.html#a16a0d898e7859c2c3b24b55b3f4a048e">STATUS_POURING</a>&#160;&#160;&#160;0x02</td></tr>
<tr class="separator:a16a0d898e7859c2c3b24b55b3f4a048e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Bartender Initialization</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Initializes the bartender structure</p>
<p>This function setups up all the initial values for the <a class="el" href="structbartender__t.html">bartender_t</a> structure. You must call this function on a structure before calling any other of the bartender functions of said structure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bartender</td><td>The bartender to be initialized </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">stepper</td><td>the stepper that drives the horizontal linear actuator of the bartender </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">toggler</td><td>the vertical linear actuator that dispenses liquid </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">location</td><td>the starting location of the bartender </td></tr>
  </table>
  </dd>
</dl>
</div></td></tr>
<tr class="memitem:a7f7ffd467a0fd94340ff697f8d9d7e5b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7f7ffd467a0fd94340ff697f8d9d7e5b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>bartender_init</b> (<a class="el" href="structbartender__t.html">bartender_t</a> *bartender, <a class="el" href="structstepper__t.html">stepper_t</a> *stepper, <a class="el" href="structtoggle__driver__t.html">toggle_driver_t</a> *toggler, uint8_t location)</td></tr>
<tr class="separator:a7f7ffd467a0fd94340ff697f8d9d7e5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Bartender Move to Location</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Moves the drink platform to a new location</p>
<p>This function move the the drink platform that is attached to the vertical linear actuator to the location that is passed into this function. Each drink dispenser has a location label starting at 1 and ending at 12. 0 is the magic value for the home location.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bartender</td><td>The bartender that is being operated on </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">location</td><td>the new location that the bartender should go to </td></tr>
  </table>
  </dd>
</dl>
</div></td></tr>
<tr class="memitem:adfd511ee0cf6f68e2899b66f77514cd7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adfd511ee0cf6f68e2899b66f77514cd7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>bartender_move_to_location</b> (<a class="el" href="structbartender__t.html">bartender_t</a> *bartender, uint8_t location)</td></tr>
<tr class="separator:adfd511ee0cf6f68e2899b66f77514cd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Bartender Pour</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Pours an amount of liquid from the current location</p>
<p>The bartender will pour the specified amount from the dispenser that the bartender is currently at.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bartender</td><td>The bartender that is being operated on </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">amount</td><td>the amount of liquid that the bartender should pour from the dispenser. </td></tr>
  </table>
  </dd>
</dl>
</div></td></tr>
<tr class="memitem:acbc3b906a54de71a2d77f0e82657255e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acbc3b906a54de71a2d77f0e82657255e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>bartender_pour</b> (<a class="el" href="structbartender__t.html">bartender_t</a> *bartender, uint8_t amount)</td></tr>
<tr class="separator:acbc3b906a54de71a2d77f0e82657255e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Defines the functions that the bartender can perform. </p>
<p>Stefan Bossbaly (<a href="#" onclick="location.href='mai'+'lto:'+'sbo'+'ss'+'b@g'+'ma'+'il.'+'co'+'m'; return false;">sboss<span style="display: none;">.nosp@m.</span>b@gm<span style="display: none;">.nosp@m.</span>ail.c<span style="display: none;">.nosp@m.</span>om</a>) This is where all the upper level logic functions of the bartender are defined. These functions hope to encapsulate the logic of the other functions. The bartender structure hold all of the information that is associated with the bartender. The first item is the status. This is the current action that the bartender is performing. The defined status are found in this header file which are STATUS_NONE, STATUS_MOVING and STATUS_POURING. Note that when updating the status make sure that we are doing it using atomic functions since we could overwrite the status value from a ISR. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a7aa8d4d16c100731379327b7f6ee745a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATUS_MOVING&#160;&#160;&#160;0x01</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The bartender is currently moving from one location to another. </p>

</div>
</div>
<a class="anchor" id="aa2af45dbd7c7fd8a9f25af41f8b97a05"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATUS_NONE&#160;&#160;&#160;0x00</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The bartender is currently doing nothing. </p>

</div>
</div>
<a class="anchor" id="a16a0d898e7859c2c3b24b55b3f4a048e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATUS_POURING&#160;&#160;&#160;0x02</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The bartender is currently pouring liquid from one of its dispensers. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Apr 9 2014 17:38:42 for Bartender by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.4
</small></address>
</body>
</html>
